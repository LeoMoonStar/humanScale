# PeopleCoin Backend - Environment Variables Template
# Copy this file to .env and fill in your values

# ==========================================
# Server Configuration
# ==========================================
PORT=8080
ENV=development  # Options: development, staging, production

# ==========================================
# Database Configuration (PostgreSQL)
# ==========================================
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=postgres
DB_NAME=peoplecoin
DB_SSLMODE=disable  # Use 'require' in production

# Connection pool settings
DB_MAX_OPEN_CONNS=25
DB_MAX_IDLE_CONNS=5
DB_CONN_MAX_LIFETIME=300  # seconds

# ==========================================
# Redis Cache Configuration
# ==========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=  # Leave empty if no password
REDIS_DB=0

# ==========================================
# JWT Token Configuration
# ==========================================
# SECURITY: Generate strong random strings for production
# Use: openssl rand -hex 32

JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-this-in-production
JWT_EXPIRATION=3600  # Access token: 1 hour (in seconds)
JWT_REFRESH_EXPIRATION=604800  # Refresh token: 7 days (in seconds)

# ==========================================
# Typesense Search Engine
# ==========================================
TYPESENSE_HOST=localhost
TYPESENSE_PORT=8108
TYPESENSE_PROTOCOL=http  # Use 'https' for cloud
TYPESENSE_API_KEY=your-typesense-api-key

# ==========================================
# Third-Party APIs
# ==========================================

# SuiScan API (Blockchain Explorer)
SUISCAN_API_URL=https://suiscan.xyz/api/sui
SUISCAN_API_KEY=  # Optional, for higher rate limits

# CoinGecko API (Price Data)
COINGECKO_API_URL=https://api.coingecko.com/api/v3
COINGECKO_API_KEY=  # Required for production (get from coingecko.com)

# ==========================================
# Sui Blockchain Configuration
# ==========================================
SUI_RPC_URL=https://fullnode.mainnet.sui.io:443
# Alternative RPC endpoints:
# - Testnet: https://fullnode.testnet.sui.io:443
# - Devnet: https://fullnode.devnet.sui.io:443

SUI_NETWORK=mainnet  # Options: mainnet, testnet, devnet

# ==========================================
# CORS Configuration
# ==========================================
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000
# Production example: https://peoplecoin.com,https://app.peoplecoin.com

# ==========================================
# Rate Limiting
# ==========================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_REQUESTS_PER_HOUR=1000

# ==========================================
# Logging Configuration
# ==========================================
LOG_LEVEL=info  # Options: debug, info, warn, error
LOG_FORMAT=json  # Options: json, text
LOG_OUTPUT=stdout  # Options: stdout, file

# ==========================================
# Email Configuration (Optional)
# ==========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@peoplecoin.com

# ==========================================
# File Upload Configuration (Optional)
# ==========================================
MAX_UPLOAD_SIZE=5242880  # 5MB in bytes
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif

# ==========================================
# Feature Flags
# ==========================================
ENABLE_SWAGGER=true  # API documentation
ENABLE_METRICS=true  # Prometheus metrics
ENABLE_PROFILING=false  # pprof profiling (dev only)

# ==========================================
# Development Only
# ==========================================
# Uncomment for local development

# Skip JWT verification (DEV ONLY!)
# SKIP_JWT_VERIFY=true

# Mock external APIs (DEV ONLY!)
# MOCK_EXTERNAL_APIS=true

# Enable SQL query logging
# LOG_SQL_QUERIES=true

# ==========================================
# Production Checklist
# ==========================================
# Before deploying to production, ensure:
# - [ ] Changed JWT secrets to strong random values
# - [ ] Set DB_SSLMODE=require
# - [ ] Set ENV=production
# - [ ] Added real API keys for CoinGecko, Typesense
# - [ ] Configured CORS_ALLOWED_ORIGINS to production domains
# - [ ] Disabled debug features (ENABLE_PROFILING, LOG_SQL_QUERIES)
# - [ ] Set up monitoring and alerting
# - [ ] Configured database backups
